#!/bin/bash

# Check if gum is installed and available
if ! command -v gum &> /dev/null; then
    echo -e "\033[31mError: gum is not installed or not available in PATH\033[0m"
    echo "Please install gum from: https://github.com/charmbracelet/gum"
    exit 1
fi

# Show welcome banner using gum
gum style \
    --border double \
    --border-foreground 208 \
    --align center \
    --width 40 \
    --margin "1 2" \
    --padding "1 2" \
    "$(gum join "$(gum style --foreground 255 "Welcome to ")" "$(gum style --foreground 208 "abp")" "$(gum style --foreground 208 "AI")")"

# Present options
choice=$(gum choose --cursor.foreground 208 --header.foreground 255 --item.foreground 250 --header "What are you up to?" "Generate Daily Digest" "Exit")

case $choice in
    "Generate Daily Digest")
        echo "Running daily digest generation..."
        cd projects/daily-digest; ./generate.sh
        ;;
    "Exit")
        echo "Goodbye!"
        exit 0
        ;;
esac